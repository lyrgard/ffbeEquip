{% extends "base.njk" %}

{% block stylesheet %}
<link rel="stylesheet" type="text/css" href="units.css?version=3">
{% endblock %}

{% block script %}
<script src="lib/FileSaver.min.js"></script>
<script src="lib/html2canvas.min.js"></script>
<script src="units.js?version=8"></script>
{% endblock %}

{% block body %}
<div id="loaderGlassPanel" class="hidden">
    <div id="loader"></div>
</div>
<div  class="col-xs-12 col-lg-8 col-lg-offset-2">

    <span id="pleaseWaitMessage" class="h4">Please wait for your units to be loaded</span>
    <span id="loginMessage" class="h4 hidden">Log-in to display your units</span>
    <div id="units" class="hidden">
        <ul id="tabs" class="nav nav-tabs">
            <li class="alphabeticalSort" onclick="showAlphabeticalSort()"><a><img src="img/sort-a-z.png"/></a></li>
            <li class="raritySort" onclick="showRaritySort()"><a><img src="img/star_icon.png"/></a></li>
            <li class="tmrAlphabeticalSort" onclick="showTMRAlphabeticalSort()"><a><img src="img/sort-tmr.png"/></a></li>
            <li class="history" onclick="showHistory()"><a><img src="img/history.png"/></a></li>
        </ul>
        <div id="exportLinks" class="dropdown">
            <a class=" dropdown-toggle link" type="button" data-toggle="dropdown"><span class="glyphicon glyphicon-share-alt"></span> Share unit collection<span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a class="link" onclick="exportAsImage();"><span class="glyphicon glyphicon-camera"></span> Export as image</a></li>
                <li><a class="link" onclick="exportAsImage(true);"><span class="glyphicon glyphicon-camera"></span> Export only 5* as image</a></li>
                <li><a class="link" onclick="exportAsCsv()"><span class="glyphicon glyphicon-list"></span> Export as CSV</a></li>
                <li><a class="link" onclick="exportAsText()"><span class="glyphicon glyphicon-list"></span> Export as simple text</a></li>
            </ul>
        </div>
        <div class="explanation">
            <div>Left number: how many time you own this unit</div>
            <div>Right number: how many time you can still farm the TMR</div>
        </div>

        <div class="result-tab-pane">
            <div class="panel-body" style="padding:0;">
                <div class="col-xs-12">
                    <input id="searchBox" type="text" class="form-control" placeholder="Enter unit name"/>
                </div>
                <div id="results" class="col-xs-12">

                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
