<html lang="en">
    <head>
		<meta charset="UTF-8">
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
		<link rel="stylesheet" type="text/css" href="common.css?version=3">
        <link rel="stylesheet" type="text/css" href="builder.css">
        <title>FFBE Equip</title>
    </head>
    <body>
        <div class="container-fluid">
            <div class="col-xs-12">
                <nav class="col-xs-12 navbar navbar-default">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="#">FFBE Equip</a>
                        </div>
                        <ul class="nav navbar-nav">
                            <li><a id="linkToSearch" href="index.html">Search</a></li>
                            <li class="active"><a id="linkToBuilder" href="builder.html">Builder (Work In Progress)</a></li>
                            <li><a id="linkToContribute" href="contribute.html">Contribute</a></li>
                        </ul>
                        <div id="inventoryDiv" class="buttons account">
                            <span>Inventory :&nbsp;</span>
                            <span class="status"></span>
                            <div class="loader"></div>
                            <button id="loadInventory" class="hidden btn btn-default" onclick="loadInventory()">Log in</button>
                            <div class="loader hidden"></div>
                            <span class="message hidden"/>
                        </div>
                </nav>
            </div>
            <div class="col-xs-6">
                <div class="panel panel-default goal">
                    <div class="panel-heading">
                        <form class="form-inline">
                            <div class="form-group flex-form-group">
                                <span>Goal : Maximize</span>
                                <select class="form-control">
                                    <option value="atk">Physical damage</option>
                                    <option value="mag">Magical damage</option>
                                </select>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="panel panel-default unit">
                    <div class="panel-heading">
                        <form class="form-inline">
                            <div class="form-group flex-form-group">
                                <span>Unit</span>
                                <select id="unitsSelect" name="units" class="form-control"></select>
                                <div class="unit-rarity">
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="panel-body">
                        <div class="unitStats">
                            <div class="col-xs-6">
                                <div class = "input-group">
                                    <span class = "input-group-addon">HP</span>
                                    <input id="baseStat_hp" type = "text" class = "form-control" placeholder = "3500" onkeypress="return isNumber(event)">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class = "input-group">
                                    <span class = "input-group-addon">MP</span>
                                    <input id="baseStat_mp" type = "text" class = "form-control" placeholder = "180" onkeypress="return isNumber(event)">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class = "input-group">
                                    <span class = "input-group-addon">ATK</span>
                                    <input id="baseStat_atk" type = "text" class = "form-control" placeholder = "180" onkeypress="return isNumber(event)">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class = "input-group">
                                    <span class = "input-group-addon">DEF</span>
                                    <input id="baseStat_def" type = "text" class = "form-control" placeholder = "180" onkeypress="return isNumber(event)">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class = "input-group">
                                    <span class = "input-group-addon">MAG</span>
                                    <input id="baseStat_mag" type = "text" class = "form-control" placeholder = "180" onkeypress="return isNumber(event)">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class = "input-group">
                                    <span class = "input-group-addon">SPR</span>
                                    <input id="baseStat_spr" type = "text" class = "form-control" placeholder = "180" onkeypress="return isNumber(event)">
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 unitAttackElement">
                            <div class="col-xs-3 text-right">Attack element(s):</div>
                            <div class="col-xs-9 btn-group elements choice" data-toggle="buttons" id="elements"></div>
                        </div>
                        <div class="col-xs-12 magicalSkillType hidden">
                            <div class="col-xs-3 text-right">Type of used attack:</div>
                            <div class="col-xs-9">
                                <select class="form-control">
                                    <option value="normal">Normal magical attack</option>
                                    <option value="physicalMagic">Magic attack with physical mecanism</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default monster">
                    <div class="panel-heading">
                        <span>Monster</span>
                    </div>
                    <div class="panel-body">
                        <div class="btn-group elements choice" data-toggle="buttons" id="races">
                        </div>
                        <table id="elementalResists">
                            <thead>
                                <tr>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/fire.png"/></th>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/ice.png"/></th>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/lightning.png"/></th>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/water.png"/></th>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/wind.png"/></th>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/earth.png"/></th>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/light.png"/></th>
                                    <th><img class="miniIcon" src="img/heavyShield.png"><img src="img/dark.png"/></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="fire"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                    <td class="ice"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                    <td class="lightning"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                    <td class="water"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                    <td class="wind"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                    <td class="earth"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                    <td class="light"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                    <td class="dark"><input class="form-control" type="text" placeholder="0" onkeypress="return isNumberOrMinus(event)"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-xs-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <span>Results</span>
                        <button id="buildButton" class="btn btn-default">Build !</button>
                    </div>
                    <div class="panel-body" style="padding:0;">
                        <div id="buildProgressBar" class="progressBarDiv">
                            <div class="progressBar">0%</div>
                        </div>
                        <div id="resultStats">
                        </div>
                        <div id="results" class="table notSorted items">
							<div class="thead">
                                <div class="tr">
                                    <div class="td type">&nbsp;</div>
                                    <div class="td name">Name</div>
                                    <div id="statTitle" class="td value sort">Value</div>
                                    <div class="td special">Special</div>
									<div class="td access">Access</div>
                                    <div class="td inventory"></div>
                                </div>
                            </div>
                            <div class="tbody">
                                
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h3>How to use this:</h3>
                    <ol>
                        <li>Make sure you're logged in, so that your inventory is loaded</li>
                        <li>Select a unit you want to make a build for</li>
                        <li>If you plan to use an attack with innate element(s), you can select the corresponding element(s) in the "Attack element(s)" section</li>
                        <li>Fill information on the monster you're facing, its race(s) and its elemental resistance (negative number for elemental weakness). Take into account the elemental debufs you'll give it (for instance, if using Orlandeau's Divine Ruination, substract 50 to the light elemental resistance).</li>
                        <li>Click on "Build !" button to start the computation</li>
                    </ol>
                    <p>Some features are still missing for now. It wont calculate Dualhand builds and won't use Equip X materia. It also can only maximize ATK or MAG right now, but others stats should come soon</p>
                </div>
                <div>
                    <a class="buttonLink" href="https://www.reddit.com/message/compose/?to=lyrgard">Send me a message on reddit</a>
                </div>
                <div>
                    <a class="buttonLink" href='https://ko-fi.com/Lyrgard'>Donate</a>
                </div>
            </div>
        </div>
		<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/mark.js/8.9.1/jquery.mark.min.js"></script>
		<script src="lib/jquery.ba-throttle-debounce.min.js"></script>
        <script src="common.js"></script>
        <script src="builder.js"></script>
    </body>
</html>