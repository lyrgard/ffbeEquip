<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>FFBE Equip - Contribution</title>
        <link rel="icon" type="image/png" href="img/icons/equipments/heavyArmor.png">

        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
              integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="common.css">
        <link rel="stylesheet" type="text/css" href="contribute.css">
        <link rel="stylesheet" type="text/css" href="languages.css">
        <link rel="stylesheet" type="text/css" href="dark-mode.css"/>
        <link rel="stylesheet" type="text/css" href="css-img/killers.css">
    </head>
    <body class="dark">
        <a href="#" id="scrollToTopButton" style="display: none;" title="Scroll back to the top"><span></span></a>

        <div id="header" class="headerFina">
            <div class="headerContent">
                <div class="headerTitle">
                    Contribute
                </div>
                <div id="inventoryDiv" class="btn-group Inventoryloading" role="group">
                    <button type="button" class="btn btn-default logOut" onclick="location.href='/googleOAuthLogout';">
                        <span class="glyphicon glyphicon-off" title="logout"></span>
                    </button>
                    <button type="button" class="btn btn-default loadInventory" onclick="loadInventory()">
                        Log in
                    </button>
                    <button type="button" class="btn btn-default inventoryStatus">
                        <span class="status loading">Loading inventory</span>
                        <span class="status loaded">Inventory loaded</span>
                        <span class="status notLoaded">Inventory not loaded</span>
                        <div class="loader"></div>
                        <span class="label label-default unitsNumber">? units</span>
                        <span class="label label-default itemsNumber">? items</span>
                    </button>
                </div>
            </div>
            <div class="navigationMenu">
                <div class="desktop">
                    <div class="menuLogo" onclick="window.location.href='/'" title="Return to homepage"></div>
                    <a href="/" data-internal-link="/">Home</a>
                    <a href="builder.html" data-internal-link="builder.html">Unit builder</a>
                    <a href="encyclopedia.html" data-internal-link="encyclopedia.html">Encyclopedia</a>
                    <a href="unitSearch.html" data-internal-link="unitSearch.html">Unit Search</a>
                    <a href="inventory.html" data-internal-link="inventory.html">My inventory</a>
                    <a href="units.html" data-internal-link="units.html">My units</a>
                    <a href="espers.html" data-internal-link="espers.html">My Espers</a>
                    <a class="active" href="contribute.html" data-internal-link="contribute.html">Contribute</a>
                </div>
                <div class="mobile">
                    <div class="menuLogo dropdown-toggle" data-toggle="dropdown">
                        <span class="glyphicon glyphicon-chevron-down"></span>
                    </div>
                    <ul class="dropdown-menu">
                        <li>
                            <a href="/" data-internal-link="/">
                                <span class="glyphicon glyphicon-chevron-right"></span> Home
                            </a>
                        </li>
                        <li>
                            <a href="builder.html" data-internal-link="builder.html">
                                <span class="glyphicon glyphicon-chevron-right"></span> Unit builder
                            </a>
                        </li>
                        <li>
                            <a href="encyclopedia.html" data-internal-link="encyclopedia.html">
                                <span class="glyphicon glyphicon-chevron-right"></span> Encyclopedia
                            </a>
                        </li>
                        <li>
                            <a href="unitSearch.html" data-internal-link="unitSearch.html">
                                <span class="glyphicon glyphicon-chevron-right"></span> Unit Search
                            </a>
                        </li>
                        <li>
                            <a href="inventory.html" data-internal-link="inventory.html">
                                <span class="glyphicon glyphicon-chevron-right"></span> My inventory
                            </a>
                        </li>
                        <li>
                            <a href="units.html" data-internal-link="units.html">
                                <span class="glyphicon glyphicon-chevron-right"></span> My units
                            </a>
                        </li>
                        <li>
                            <a href="espers.html" data-internal-link="espers.html">
                                <span class="glyphicon glyphicon-chevron-right"></span> My Espers
                            </a>
                        </li>
                        <li class="active">
                            <a href="contribute.html" data-internal-link="contribute.html">
                                <span class="glyphicon glyphicon-chevron-right"></span> Contribute
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="headerTopButtons">
                <div id="themeSelector">
                    <span class="title">Theme :</span>
                    <select class="form-control smallSelect">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>
                <div id="languages">
                    <span class="lang lang-sm" lang="en" onclick="switchToLanguage('en')"></span>
                    <span class="lang lang-sm" lang="zh" onclick="switchToLanguage('zh')"></span>
                    <span class="lang lang-sm" lang="ko" onclick="switchToLanguage('ko')"></span>
                    <span class="lang lang-sm" lang="fr" onclick="switchToLanguage('fr')"></span>
                    <span class="lang lang-sm" lang="de" onclick="switchToLanguage('de')"></span>
                    <span class="lang lang-sm" lang="es" onclick="switchToLanguage('es')"></span>
                </div>
                <div class="switchServer btn-group">
                    <button class="GL btn btn-default" onclick="switchTo('GL')">GL</button>
                    <button class="JP btn btn-default" onclick="switchTo('JP')">JP</button>
                </div>
            </div>
            <div class="bannerBackground"></div>
            <div class="bannerPicture"></div>
            <div class="bannerPicturePerson"></div>
        </div>

        <div class="container-fluid">
            <div id="loginMessage" class="alert alert-danger alert-inline hidden" role="alert">
                <span class="glyphicon glyphicon-alert"></span>
                Sorry, but you need to be logged-in to be able to contribute
            </div>
            <div id="contributeWrapper" class="hidden">
                <div class="col-xs-12 col-md-6">
                    <div id="modifiedItems" class="panel panel-default hidden">
                        <div id="results" class="table notSorted items results">
                            <div class="thead">
                                <div class="tr">
                                    <div class="td type">&nbsp;</div>
                                    <div class="td name">Name</div>
                                    <div class="td access">Access</div>
                                    <div class="td maxNumber">
                                        Max <span class='hidden-xs'>Number</span>
                                    </div>
                                    <div class="td">&nbsp;</div>
                                </div>
                            </div>
                            <div class="tbody">

                            </div>
                        </div>
                        <div id="sendToServerDiv">
                            <button class="btn btn-primary" onclick="sendToServer()">Send it to FFBE Equip</button>
                        </div>
                    </div>
                    <div>
                        <h4>How to use this:</h4>
                        <ol>
                            <li>Items that are missing data are displayed on the right. You can select one, or use the search if you want to correct another item.</li>
                            <li>Once you've found the item you want to modify, click on the <span class="glyphicon glyphicon-edit"></span> to add this item to the list on the left. You can add multiple items to this list (max 10).</li>
                            <li>You can modify the Access and Max Number of the items on the left pane. For Max Number, leave it empty if there is no limitation to how many times this item could be acquired.</li>
                            <li>When you have entered all the data to the items, click on "<b>Send it to FFBE Equip</b>" to send it to FFBE Equip.</li>
                            <li>A dialog should appears with the result of your submission.</li>
                            <li>
                                <strong>Please note that the data won't be corrected immediately.</strong> <br/>
                                I regularly merge the sent data to the main data of FFBE Equip.
                            </li>
                        </ol>
                    </div>
                    <div>
                        You can also report any issues directly on the GitHub repository:
                        <a href="https://github.com/lyrgard/ffbeEquip/issues" target="_blank" rel="noreferrer">https://github.com/lyrgard/ffbeEquip/issues</a>
                    </div>
                    <div class="footerButtons">
                        <div>
                            <a class="buttonLink" href="https://www.reddit.com/message/compose/?to=lyrgard" target="_blank" rel="noreferrer">Send me a message on reddit</a>
                            <a class="buttonLink" href="https://discord.gg/rgXnjhP" target="_blank" rel="noreferrer">Chat on FFBE Equip discord server</a>
                            <a class="buttonLink" href="https://github.com/lyrgard/ffbeEquip" target="_blank" rel="noreferrer">See code on GitHub</a>
                        </div>
                        <div>
                            <a class="buttonLink" href='https://ko-fi.com/Lyrgard' target="_blank" rel="noreferrer">Buy me a coffee</a>
                            <a class="buttonLink" href='https://www.patreon.com/Lyrgard' target="_blank" rel="noreferrer">Become my patron on Patreon</a>
                        </div>
                        <div>
                            <a class="buttonLink" data-server="JP" href='https://exviusdb.com/' target="_blank" rel="noreferrer">JP units and items images are a courtesy of EXVIUS DB</a>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-md-6">
                    <div class="panel panel-default itemList">
                        <div class="panel-heading">
                            <input type="text" class="form-control" id="searchText" placeholder="Enter search text. Will search in item name, stats, abilities, TMR's unit, ...">
                        </div>
                        <div class="panel-body">
                            <div id="results" class="table notSorted items results">
                                <div class="thead">
                                    <div class="tr">
                                        <div class="td select">&nbsp;</div>
                                        <div class="td type">&nbsp;</div>
                                        <div class="td name">Name</div>
                                        <div id="statTitle" class="td value sort">Value</div>
                                        <div class="td special">Special</div>
                                        <div class="td access">Access</div>
                                        <div class="td maxNumber">
                                            Max <span class='hidden-xs'>Number</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="tbody">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="addAccessModal" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">Add access</div>
                    <div class="modal-body">
                        <div class="btn-group choice" data-toggle="buttons" id="accessList"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="submitModal" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        Submit results
                    </div>
                    <div class="modal-body">
                        <div class="submitSuccess hidden">
                            <p class="text-success">
                                    <span class="glyphicon glyphicon-ok-circle"></span>
                                    Your contribution is saved! Thanks a lot!
                                </p>
                            <p class="details">
                                Number of item modified: <span class='modified'></span><br/>
                                Number of item pending: <span class='total'></span><br/>
                            </p>
                        </div>
                        <div class="submitFailed hidden">
                            <p class="text-danger">
                                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                                    There was an issue with your submission.
                                </p>
                            <p>Error information:</p>
                            <pre class='error'></pre>
                            <p>The data sent to the server was:</p>
                            <pre class='data'></pre>
                            <p class="details">
                                You can always find help on  
                                <a href="https://discord.gg/rgXnjhP" target="_blank" rel="noreferrer">FFBE Equip discord server</a>
                                or by 
                                <a href="https://www.reddit.com/message/compose/?to=lyrgard" target="_blank" rel="noreferrer">sending me a message on reddit</a>.
                            </p>
                            <p class="details">
                                You can also
                                <a href="https://github.com/lyrgard/ffbeEquip/issues" target="_blank" rel="noreferrer">open an issue on GitHub</a>.
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.1.0.min.js"
                integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
                integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/mark.js/8.9.1/jquery.mark.min.js"
                integrity="sha384-xm3smXFeZSfehvsiwVXkVZQU/NWHntXE7a/CYQNE/fnBnZi01iu4DRiv+wObGSwn" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/10.15.0/lazyload.min.js"
                integrity="sha384-eNkRPZsMXXue2PfnzB86JZZm8l6laWo6c2YuXambKDG9ko5QbTktAKCM7MIhZ7AO" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"
                integrity="sha384-+pWnyi8LtZx+cgXfD2arWgUX7pHIaEL215cEPPk9WrsegNlgvDL9DNjaqsceQq6o" crossorigin="anonymous"></script>
		<script src="lib/jquery.ba-throttle-debounce.min.js"></script>
        <script src="lib/notify.min.js"></script>
        <script src="constants.js"></script>
        <script src="common.js"></script>
		<script src="contribute.js"></script>
        <script src="googleAnalytics.js"></script>
    </body>
</html>
